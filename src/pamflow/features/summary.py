import numpy as npdef summarize_frame(frame: np.ndarray, mask_mode: str = "all") -> dict:    """    Compute summary statistics for a 2D image frame.    mask_mode:        "all"     -> use entire frame        "nonzero" -> use only pixels > 0    """    if mask_mode == "nonzero":        vals = frame[frame > 0]    else:        vals = frame.ravel()    vals = vals.astype(float)    return {        "n_pixels": int(vals.size),        "min": float(np.min(vals)),        "max": float(np.max(vals)),        "mean": float(np.mean(vals)),        "median": float(np.median(vals)),        "sd": float(np.std(vals, ddof=1)),        "p10": float(np.percentile(vals, 10)),        "p90": float(np.percentile(vals, 90)),    }